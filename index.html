<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="http://cdn.leafletjs.com/leaflet-0.4.4/leaflet.css" />
    <link rel="stylesheet" type="text/css" href="http://jacobtoye.github.com/Leaflet.draw/leaflet.draw.css" />
    <link rel="stylesheet" type="text/css" href="Leaflet.widget/Leaflet.widget.min.css" />
    <!--[if lte IE 8]>
        <link rel="stylesheet" type="text/css" href="http://cdn.leafletjs.com/leaflet-0.4.4/leaflet.ie.css" />
        <link rel="stylesheet" type="text/css" href="http://raw.github.com/jacobtoye/Leaflet.draw/master/dist/leaflet.draw.ie.css" />
    <![endif]-->

    <script src="http://cdn.leafletjs.com/leaflet-0.4.4/leaflet.js"></script>
    <script src="http://jacobtoye.github.com/Leaflet.draw/leaflet.draw.js"></script>
    <script src="Leaflet.widget/Leaflet.widget.js"></script>

    <title>Leaflet.widget by tnightingale</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Leaflet.widget</h1>
          <h2>Leaflet vector management widget.</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/tnightingale/Leaflet.widget/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/tnightingale/Leaflet.widget/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/tnightingale/Leaflet.widget" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">

<p>Provides a handler which binds a <a href="http://leafletjs.com">Leaflet</a> map to a HTML element. GeoJSON data 
stored as text in the element will be parsed and added to the map. New features 
added to the map (via <a href="https://github.com/jacobtoye/Leaflet.draw">Leaflet.draw</a>, <a href="https://github.com/tnightingale/Leaflet.paste">Leaflet.paste</a>, etc...) along with existing 
features can be encoded to GeoJSON and inserted into the bound HTML element 
with <code>map.widget.write()</code>.</p>

<p>Includes <a href="https://github.com/tnightingale/Leaflet.widget/blob/master/src/Leaflet.select.js">Leaflet.select</a>; a control extension for Leaflet.draw.<br>
Leaflet.select.js provides a 'selector' tool allowing one or many features to 
be selected. Actions can then be performed on selected features. <em>Currently only a 'remove' action has been implemented.</em></p>

<div style="width:100%; height:200px" id="leaflet-widget-map"></div>
<form id='leaflet-widget-form'>
  <textarea style="width:100%; height:100px" id='leaflet-widget-input'>
{
  "type": "MultiPolygon",
  "coordinates": [
    [
      [[102.0, 2.0], [103.0, 2.0], [103.0, 3.0], [102.0, 3.0], [102.0, 2.0]]
    ],
    [
      [[100.0, 0.0], [101.0, 0.0], [101.0, 1.0], [100.0, 1.0], [100.0, 0.0]]
    ]
  ]
}
  </textarea>
  <input type='submit' />
</form>

<script type='text/javascript'>
  var map = L.map('leaflet-widget-map', {
        center: [0.0, 100.0],
        zoom: 5,
        layers: [L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png')],
        widget: { attach: 'leaflet-widget-input' }
      });
  map.widget.enable();

  var form = L.DomUtil.get('leaflet-widget-form');
      L.DomEvent.on(form, 'submit', map.widget.write, map.widget);
      L.DomEvent.on(form, 'submit', L.DomEvent.preventDefault);
</script>
<p><a href="demo.html" title="Leaflet.widget demo." target="_blank">Try it in a seperate window.</a></p>

<h2>Usage</h2>

<p>To use:</p>

<ol>
<li>Include an options object under a 'widget' property in your Leaflet 
map's options. The object must contain a 'attach' property with its value being 
an HTML element (or the id of one) to bind to.</li>
<li>Enable widget with <code>widget.enable()</code>
</li>
<li>When you're ready, write widget features to attached HTML element with <code>widget.write</code>.</li>
</ol><p>E.g:</p>

<pre><code>// *.html
&lt;form id='leaflet-widget-form'&gt;
  &lt;textarea id='leaflet-widget-input'&gt; ... GeoJSON here ... &lt;/textarea&gt;
  &lt;input type='submit' /&gt;
&lt;/form&gt;

// *.js
var form = L.DomUtil.get('leaflet-widget-form'),
    layer = L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'),
    map = L.map('map', {
            layers: [layer]
            widget: { attach: 'leaflet-widget-input' },
            select: true
          });

// It's important to enable the widget to ensure layers are added to the map.
map.widget.enable();

// Write widget features when form is submitted.
L.DomEvent.on(form, 'submit', map.widget.write, map.widget);
</code></pre>

<h2>Requires</h2>

<ul>
<li>
<a href="http://leafletjs.com">Leaflet</a> - <em>Included in /lib.</em>
</li>
<li>
<a href="https://github.com/jacobtoye/Leaflet.draw">Leaflet.draw</a> - <em>Included in /lib.</em>
</li>
</ul>
        </section>

        <footer>
          Leaflet.widget is maintained by <a href="https://github.com/tnightingale">tnightingale</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>
